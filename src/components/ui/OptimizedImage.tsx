import Image from \"next/image\";\nimport { useState } from \"react\";\n\ninterface OptimizedImageProps {\n  src: string;\n  alt: string;\n  width?: number;\n  height?: number;\n  className?: string;\n  priority?: boolean;\n  fill?: boolean;\n  sizes?: string;\n}\n\nexport default function OptimizedImage({\n  src,\n  alt,\n  width,\n  height,\n  className = \"\",\n  priority = false,\n  fill = false,\n  sizes = \"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\",\n}: OptimizedImageProps) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  if (error) {\n    return (\n      <div \n        className={`bg-gray-200 flex items-center justify-center ${className}`}\n        style={{ width, height }}\n      >\n        <span className=\"text-gray-400 text-sm\">Image not found</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`relative ${className}`}>\n      <Image\n        src={src}\n        alt={alt}\n        width={width}\n        height={height}\n        fill={fill}\n        priority={priority}\n        sizes={sizes}\n        className={`transition-opacity duration-300 ${\n          isLoading ? \"opacity-0\" : \"opacity-100\"\n        } ${fill ? \"object-cover\" : \"\"}`}\n        style={!fill && width && height ? { width: \"auto\", height: \"auto\" } : {}}\n        onLoad={() => setIsLoading(false)}\n        onError={() => setError(true)}\n        quality={85}\n        placeholder=\"blur\"\n        blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=\"\n      />\n      {isLoading && (\n        <div \n          className=\"absolute inset-0 bg-gray-200 animate-pulse\"\n          style={{ width, height }}\n        />\n      )}\n    </div>\n  );\n}